{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{366:function(e,t,o){\"use strict\";o.r(t);var s=o(43),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[o(\"h1\",{attrs:{id:\"routes\"}},[o(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#routes\"}},[e._v(\"#\")]),e._v(\" Routes\")]),e._v(\" \"),o(\"p\",[e._v(\"The only stock route file modified is routes\\\\web.php\")]),e._v(\" \"),o(\"p\",[e._v(\"Lets look at web.php, line by line:\")]),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"Route::get('lang/{lang}', 'LanguageController@swap');\\n\")])])]),o(\"p\",[e._v(\"The first line gets envoked anytime the user chooses a language from the language picker dropdown. The LanguageController's \"),o(\"code\",[e._v(\"swap()\")]),e._v(\" method switches the language code in the session and refreshes the page for it to take effect.\")]),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"Route::group(['namespace' => 'Frontend', 'as' => 'frontend.'], function () {\\n\\tincludeRouteFiles(__DIR__ . '/frontend/');\\n});\\n\")])])]),o(\"ul\",[o(\"li\",[e._v(\"This section registers all of the frontend routes, such as login, register, etc.\")]),e._v(\" \"),o(\"li\",[e._v(\"The namespaces of the routes indicate the folder structure. In the above case the routes that will be included live in routes\\\\frontend.\")]),e._v(\" \"),o(\"li\",[e._v(\"The as property prepends the value to all routes inside the closure, so in the above case all included route names will be prepended with frontend.\")]),e._v(\" \"),o(\"li\",[e._v(\"The \"),o(\"code\",[e._v(\"includeRouteFiles()\")]),e._v(\" is a helper function located in app\\\\helpers.php and autoloaded by composer.\")])]),e._v(\" \"),o(\"p\",[e._v(\"This takes all files in the specified directory and includes them in the closure so you can add new routes without having to touch the web.php routes file.\")]),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"Route::group(['namespace' => 'Backend', 'prefix' => 'admin', 'as' => 'admin.', 'middleware' => 'admin'], function () {\\n\\tincludeRouteFiles(__DIR__ . '/backend/');\\n});\\n\")])])]),o(\"ul\",[o(\"li\",[e._v(\"This section registers all of the backend routes, such as admin dashboard, user management, etc.\")]),e._v(\" \"),o(\"li\",[e._v(\"It is nearly identical as the frontend routes with the addition of the admin middleware and prefix.\")]),e._v(\" \"),o(\"li\",[e._v(\"The namespaces of the routes indicate the folder structure. In the above case the routes that will be included live in routes\\\\backend.\")]),e._v(\" \"),o(\"li\",[e._v(\"The as property prepends the value to all routes inside the closure, so in the above case all included route names will be prepended with admin.\")]),e._v(\" \"),o(\"li\",[e._v(\"The prefix property prepends the value before all of the URL's of the routes inside the closure, so in the above case all route URL's will be prepended with admin/.\")]),e._v(\" \"),o(\"li\",[e._v(\"The admin middleware is specified in app\\\\Http\\\\Kernel.php and states that anyone trying to access the routes in the following closure must:\\n\"),o(\"ul\",[o(\"li\",[o(\"em\",[e._v(\"Be logged in.\")])]),e._v(\" \"),o(\"li\",[o(\"em\",[e._v(\"Have the view-backend permission associated with one of their roles or by itself.\")])])])])]),e._v(\" \"),o(\"p\",[e._v(\"Note: Most route resources use Laravel's Route/Model Binding which you will see as well in the controller methods.\")]),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"// All route names are prefixed with 'admin.auth'.\\nRoute::group([\\n    'prefix' => 'auth',\\n    'as' => 'auth.',\\n    'namespace' => 'Auth',\\n    'middleware' => 'role:'.config('access.users.admin_role'),\\n], function () {\\n    // User Management\\n    Route::group(['namespace' => 'User'], function () {\\n        // User Status'\\n        Route::get('user/deactivated', [UserStatusController::class, 'getDeactivated'])->name('user.deactivated');\\n        Route::get('user/deleted', [UserStatusController::class, 'getDeleted'])->name('user.deleted');\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#backend-auth-user-userstatuscontroller\"}},[e._v(\"UserStatusController\")])],1),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"        // User CRUD\\n        Route::get('user', [UserController::class, 'index'])->name('user.index');\\n        Route::get('user/create', [UserController::class, 'create'])->name('user.create');\\n        Route::post('user', [UserController::class, 'store'])->name('user.store');\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#backend-auth-user-usercontroller\"}},[e._v(\"UserController\")])],1),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"        // Specific User\\n        Route::group(['prefix' => 'user/{user}'], function () {\\n            // User\\n            Route::get('/', [UserController::class, 'show'])->name('user.show');\\n            Route::get('edit', [UserController::class, 'edit'])->name('user.edit');\\n            Route::patch('/', [UserController::class, 'update'])->name('user.update');\\n            Route::delete('/', [UserController::class, 'destroy'])->name('user.destroy');\\n\\n            // Status\\n            Route::get('mark/{status}', [UserStatusController::class, 'mark'])->name('user.mark')->where(['status' => '[0,1]']);\\n\\n            // Password\\n            Route::get('password/change', [UserPasswordController::class, 'edit'])->name('user.change-password');\\n            Route::patch('password/change', [UserPasswordController::class, 'update'])->name('user.change-password.post');\\n\\n            // Session\\n            Route::get('clear-session', [UserSessionController::class, 'clearSession'])->name('user.clear-session');\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#backend-auth-user-usersessioncontroller\"}},[e._v(\"UserSessionController\")])],1),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"            // Deleted\\n            Route::get('delete', [UserStatusController::class, 'delete'])->name('user.delete-permanently');\\n            Route::get('restore', [UserStatusController::class, 'restore'])->name('user.restore');\\n        });\\n    });\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#backend-auth-user-userpasswordcontroller\"}},[e._v(\"UserPasswordController\")])],1),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"    // Role Management\\n    Route::group(['namespace' => 'Role'], function () {\\n        Route::get('role', [RoleController::class, 'index'])->name('role.index');\\n        Route::get('role/create', [RoleController::class, 'create'])->name('role.create');\\n        Route::post('role', [RoleController::class, 'store'])->name('role.store');\\n\\n        Route::group(['prefix' => 'role/{role}'], function () {\\n            Route::get('edit', [RoleController::class, 'edit'])->name('role.edit');\\n            Route::patch('/', [RoleController::class, 'update'])->name('role.update');\\n            Route::delete('/', [RoleController::class, 'destroy'])->name('role.destroy');\\n        });\\n    });\\n});\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#backend-auth-role-rolecontroller\"}},[e._v(\"RoleController\")])],1),e._v(\" \"),o(\"hr\"),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"/*\\n * Frontend Access Controllers\\n * All route names are prefixed with 'frontend.auth'.\\n */\\nRoute::group(['namespace' => 'Auth', 'as' => 'auth.'], function () {\\n    // These routes require the user to be logged in\\n    Route::group(['middleware' => 'auth'], function () {\\n        Route::get('logout', [LoginController::class, 'logout'])->name('logout');\\n\\n        // These routes can not be hit if the password is expired\\n        Route::group(['middleware' => 'password_expires'], function () {\\n            // Change Password Routes\\n            Route::patch('password/update', [UpdatePasswordController::class, 'update'])->name('password.update');\\n        });\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#frontend-auth-updatepasswordcontroller\"}},[e._v(\"UpdatePasswordController\")])],1),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"        // Password expired routes\\n        Route::get('password/expired', [PasswordExpiredController::class, 'expired'])->name('password.expired');\\n        Route::patch('password/expired', [PasswordExpiredController::class, 'update'])->name('password.expired.update');\\n    });\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#frontend-auth-passwordexpiredcontroller\"}},[e._v(\"PasswordExpiredController\")])],1),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"    // These routes require no user to be logged in\\n    Route::group(['middleware' => 'guest'], function () {\\n        // Authentication Routes\\n        Route::get('login', [LoginController::class, 'showLoginForm'])->name('login');\\n        Route::post('login', [LoginController::class, 'login'])->name('login.post');\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#frontend-auth-logincontroller\"}},[e._v(\"LoginController\")])],1),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"        // Password Reset Routes\\n        Route::get('password/reset', [ForgotPasswordController::class, 'showLinkRequestForm'])->name('password.email');\\n        Route::post('password/email', [ForgotPasswordController::class, 'sendResetLinkEmail'])->name('password.email.post');\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#frontend-auth-forgotpasswordcontroller\"}},[e._v(\"ForgotPasswordController\")])],1),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"        Route::get('password/reset/{token}', [ResetPasswordController::class, 'showResetForm'])->name('password.reset.form');\\n        Route::post('password/reset', [ResetPasswordController::class, 'reset'])->name('password.reset');\\n    });\\n});\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#frontend-auth-resetpasswordcontroller\"}},[e._v(\"ResetPasswordController\")])],1),e._v(\" \"),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#frontend-user-profilecontroller\"}},[e._v(\"ProfileController\")])],1),e._v(\" \"),o(\"hr\"),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"// Client Management - with needed permissions\\nRoute::group(['middleware' => 'role:'.config('access.users.admin_role')], function () {\\n\\n    // Client CRUD \\n    Route::get('clients-management', [ClientController::class, 'management'])->name('clients-management.index');\\n    Route::patch('clients/{client}', 'ClientController@update')->name('update');\\n    Route::post('categoryTag', [ClientController::class, 'categoryTag'])->name('clients.categoryTag');\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#clientcontroller\"}},[e._v(\"ClientController\")])],1),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"    // Categories & Tags Management\\n    Route::get('categories-tags', function () {\\n        return view('backend/categories-tags');\\n    })->name('categories-tags.index');\\n\\n    // Categories\\n    Route::get('api/categories', [CategoryController::class, 'index'])->name('api/categories.index');\\n    Route::post('api/categories', [CategoryController::class, 'store'])->name('api/categories.store');\\n    Route::patch('api/update/categories', [CategoryController::class, 'update'])->name('api/categories.update');\\n    Route::delete('api/categories/{category}', [CategoryController::class, 'destroy'])->name('api/categories.destroy');\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#categorycontroller\"}},[e._v(\"CategoryController\")])],1),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"    // Tags\\n    Route::get('api/tags', [TagController::class, 'index'])->name('api/tags.index');\\n    Route::post('api/tags', [TagController::class, 'store'])->name('api/tags.store');\\n    Route::patch('api/update/tags', [TagController::class, 'update'])->name('api/tags.update');\\n    Route::delete('api/tags/{tag}', [TagController::class, 'destroy'])->name('api/tags.destroy');\\n});\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#tagcontroller\"}},[e._v(\"TagController\")])],1),e._v(\" \"),o(\"p\",[e._v(\"This section registers routes, such as cient management, route for updating the client info, getting the categories and tags after updating client info, route for categories & tags view and routes for CRUD for both etc.\")]),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"Route::group(['middleware' => 'auth'], function () {\\n\\n    // Client CRUD\\n    Route::get('clients', [ClientController::class, 'index'])->name('clients.index');\\n    Route::get('filter-clients', [ClientController::class, 'filterClients'])->name('clients.filterClients');\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#clientcontroller\"}},[e._v(\"ClientController\")])],1),e._v(\" \"),o(\"div\",{staticClass:\"language- extra-class\"},[o(\"pre\",[o(\"code\",[e._v(\"    /* Charts APi */\\n    Route::get('admin/api/city', 'ChartController@clientsByCity');\\n    Route::get('admin/api/gender', 'ChartController@clientsByGender');\\n    Route::get('admin/api/top-ten', 'ChartController@topTen');\\n    Route::get('admin/api/age', 'ChartController@clientsByAge');\\n\\tRoute::get('admin/api/estimate', 'ChartController@estimateByCategory');\\n});\\n\")])])]),o(\"p\",[e._v(\"See \"),o(\"RouterLink\",{attrs:{to:\"/guide/backend.html#chartcontroller\"}},[e._v(\"ChartController\")])],1),e._v(\" \"),o(\"p\",[e._v(\"This section registers routes, such as route for view/list cients, route for filter the clients data, and routes for axios reguests from Chart components shown on Dashboard page.\")])])}),[],!1,null,null,null);t.default=r.exports}}]);","extractedComments":[]}